function rand(a){return Math.round(Math.random()*a)}function encodeToXMLText(c){for(var a="",e=c.length,b=0;b<e;b=b+1){var d=c.charAt(b);switch(d){case"&":a+="&amp;";break;case"/":a+="&#47;";break;case"'":a+="&#039;";break;case">":a+="&gt;";break;case"<":a+="&lt;";break;case'"':a+="&quot;";break;case"\r":a+="&#xd;";break;case"\n":a+="&#xa;";break;default:a+=d}}return a}function encodeToHTMLText(c){for(var a="",e=c.length,b=0;b<e;b=b+1){var d=c.charAt(b);switch(d){case"&":a+="&amp;";break;case"/":a+="&#47;";break;case" ":a+="&nbsp;";break;case"'":a+="&#039;";break;case">":a+="&gt;";break;case"<":a+="&lt;";break;case'"':a+="&quot;";break;case"\r":a+="&#xd;";break;case"\n":a+="&#xa;";break;default:a+=d}}return a}function replaceChar(c,e,f){for(var b="",a=0;a<c.length;a=a+1){var d=c.charAt(a);if(d==e)b+=f;else b+=d}return b}function trimLeft(b){for(var d=0,a=0;a<b.length;a=a+1){var c=b.charAt(a);if(c==" "||c=="\n"||c=="\t")d++;else break}return b.substr(d)}function trimRight(a){for(var d=a.length,b=a.length-1;b>=0;b=b-1){var c=a.charAt(b);if(c==" "||c=="\n"||c=="\t")d--;else break}return a.substr(0,d)}function trim(b){var a=trimLeft(b);a=trimRight(a);return a}function getBrowserType(){var a="";return navigator.userAgent.indexOf("MSIE")>=0?"MSIE":navigator.userAgent.indexOf("Firefox")>=0?"Firefox":navigator.userAgent.indexOf("Safari")>=0?"Safari":navigator.userAgent.indexOf("Camino")>=0?"Camino":navigator.userAgent.indexOf("Gecko/")>=0?"Gecko":""}String.prototype.formatTextToHTML=function(){return this.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(/&#47;/g,"/").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/""/g,"\r")};String.prototype.getLength=function(){var a=this.match(/[\u00FF-\uFFFF]/gi);if(!a||a==null)return this.length;var b=this.length+a.length;return b};function richTextInputEncoder(b){var a=b;if(b==null)return b;a=a.replace(/[ ]/g,"");a=a.replace(/[\r\n\t]/g,"");return a}function numberArrayToText(c,d){for(var b="",a=0;a<c.length;a=a+1){if(a>0)b+=d;b+=c[a]}return b}function sortNumber(a,d){if(d==null)d=0;for(var b=0;b<a.length-1;b=b+1)for(var c=b+1;c<a.length;c=c+1)if(d==0){if(a[b]>a[c]){var e=a[b];a[b]=a[c];a[c]=e}}else if(a[b]<a[c]){var e=a[b];a[b]=a[c];a[c]=e}}function randSelectNumber(d,f,h){for(var b=new Array(f-d+1),a=d;a<=f;a=a+1)b[a-d]=a;var e=f-d+1,g=new Array(h);for(a=0;a<h;a=a+1){var i=rand(e-1);g[a]=b[i];for(var c=i+1;c<b.length;c=c+1)b[c-1]=b[c];e=e-1}sortNumber(g);return g}function stakeToText(d,b,g){for(var c="",f=d.length/b,e=0,a=0;a<f;a=a+1){if(a>0)c+=g;c+=d.substr(e,b);e+=b}return c}function Cab(c,d){for(var b=1,a=0;a<d;a+=1){b*=c-a;b/=a+1}return b}function integerToMoney(c){var b=c/100,a=c%100;return a<10?""+b+".0"+a:""+b+"."+a}function integerToString(e,c,d){for(var a=""+e,f=a.length,b=0;b<c-f;b++)a=d+a;return a}function loadXML(d){var a=null;if(!window.DOMParser&&window.ActiveXObject)for(var c=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],b=0;b<c.length;b++)try{a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);break}catch(e){}else if(window.DOMParser&&document.implementation&&document.implementation.createDocument)try{domParser=new DOMParser;a=domParser.parseFromString(d,"text/xml")}catch(e){}else return null;return a.documentElement}function findMatchedChar(f,d){if(f<0)return-1;var e=d.charAt(f),c=0,h=-1,i=-1,a=" ";switch(e){case"(":a=")";break;case"{":a="}";break;case"[":a="]";break;case")":a="(";break;case"}":a="{";break;case"]":a="[";break;default:return-1}var j=d.length;switch(e){case"(":case"{":case"[":for(var b=f+1;b<j;b++){var g=d.charAt(b);if(g==e)c++;else if(g==a)if(c==0){i=b;break}else c--}return i;case")":case"}":case"]":for(var b=f-1;b>=0;b--){var g=d.charAt(b);if(g==e)c++;else if(g==a)if(c==0){h=b;break}else c--}return h;default:return-1}}function dateToString(a){return a.getFullYear()+"-"+integerToString(a.getMonth()+1,2,"0")+"-"+integerToString(a.getDate(),2,"0")}function stringToDate(a){return new Date(eval(a.substring(0,4)),eval(a.substring(5,7))-1,eval(a.substring(8,10)))}function getRequestParameter(d){var a=location.href,e=a.substring(a.indexOf("?")+1,a.length).split("&"),c={};for(i=0;j=e[i];i++)c[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);var b=c[d.toLowerCase()];return typeof b=="undefined"?null:b}function allChildren(f){for(var a=[],c=f.children,b=0;b<c.length;b++){a[a.length]=c[b];for(var e=allChildren(c[b]),d=0;d<e.length;d++)a[a.length]=e[d]}return a}function numberTextToInteger(b,d){if(b.length==0)return null;for(var c=0,e=0,f=b.length,a=0;a<b.length;a++)if(b.charAt(a)=="."){if(e>0)return null;if(a+d+1<b.length)return null;e++;f=a}else if(b.charAt(a)<"0"||b.charAt(a)>"9")return null;else{if(e>0&&a-f>d)return null;c=c*10+(b.charAt(a)-"0")}if(e==0){for(var a=0;a<d;a++)c*=10;return c}for(var a=0;a<d-(b.length-f-1);a++)c*=10;return c}function integerToNumberText(c,e){for(var b="",a=c,d=0;d<e;d++){if(a>=0)b=""+a%10+b;else b=""+-a%10+b;a=Math.floor(a/10)}return b.length>0?a==0&&c<0?"-"+a+"."+b:""+a+"."+b:""+a+b}